{"ast":null,"code":"import _objectSpread from\"c:/Users/NICKSON/Contacts/Desktop/Deliverieseasy/DELIVERIES-APP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import\"./SendPackage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SendPackage=()=>{const[formData,setFormData]=useState({sender:\"\",receiver:\"\",email:\"\",pickupAddress:\"\",deliveryAddress:\"\",weight:\"\"});// Default manual location (Kampala)\nconst defaultLocation={lat:0.3476,lng:32.5825};const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();// Always include a default location\nconst packageData=_objectSpread(_objectSpread({},formData),{},{pickupLat:defaultLocation.lat,pickupLng:defaultLocation.lng});try{const response=await fetch(\"https://backend-deliveries.onrender.com/api/send-package\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(packageData)});if(response.ok){alert(\"Package sent successfully!\");setFormData({sender:\"\",receiver:\"\",email:\"\",pickupAddress:\"\",deliveryAddress:\"\",weight:\"\"});}else{alert(\"Something went wrong!\");}}catch(err){console.error(err);alert(\"Error sending package!\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"send-package-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Send a Package\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sender\",placeholder:\"Sender Name\",value:formData.sender,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"receiver\",placeholder:\"Receiver Name\",value:formData.receiver,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Your Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pickupAddress\",placeholder:\"Pickup Address\",value:formData.pickupAddress,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"deliveryAddress\",placeholder:\"Delivery Address\",value:formData.deliveryAddress,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",placeholder:\"Package Weight (kg)\",value:formData.weight,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send Package\"})]})]});};export default SendPackage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SendPackage","formData","setFormData","sender","receiver","email","pickupAddress","deliveryAddress","weight","defaultLocation","lat","lng","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","packageData","pickupLat","pickupLng","response","fetch","method","headers","body","JSON","stringify","ok","alert","err","console","error","className","children","onSubmit","type","placeholder","onChange","required"],"sources":["c:/Users/NICKSON/Contacts/Desktop/Deliverieseasy/DELIVERIES-APP/src/components/SendPackage.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./SendPackage.css\";\r\n\r\nconst SendPackage: React.FC = () => {\r\n  const [formData, setFormData] = useState({\r\n    sender: \"\",\r\n    receiver: \"\",\r\n    email: \"\",\r\n    pickupAddress: \"\",\r\n    deliveryAddress: \"\",\r\n    weight: \"\",\r\n  });\r\n\r\n  // Default manual location (Kampala)\r\n  const defaultLocation = {\r\n    lat: 0.3476,\r\n    lng: 32.5825,\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    // Always include a default location\r\n    const packageData = {\r\n      ...formData,\r\n      pickupLat: defaultLocation.lat,\r\n      pickupLng: defaultLocation.lng,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\r\n        \"https://backend-deliveries.onrender.com/api/send-package\",\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(packageData),\r\n        }\r\n      );\r\n\r\n      if (response.ok) {\r\n        alert(\"Package sent successfully!\");\r\n        setFormData({\r\n          sender: \"\",\r\n          receiver: \"\",\r\n          email: \"\",\r\n          pickupAddress: \"\",\r\n          deliveryAddress: \"\",\r\n          weight: \"\",\r\n        });\r\n      } else {\r\n        alert(\"Something went wrong!\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Error sending package!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"send-package-form\">\r\n      <h2>Send a Package</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"sender\"\r\n          placeholder=\"Sender Name\"\r\n          value={formData.sender}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"receiver\"\r\n          placeholder=\"Receiver Name\"\r\n          value={formData.receiver}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Your Email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"pickupAddress\"\r\n          placeholder=\"Pickup Address\"\r\n          value={formData.pickupAddress}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"deliveryAddress\"\r\n          placeholder=\"Delivery Address\"\r\n          value={formData.deliveryAddress}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"weight\"\r\n          placeholder=\"Package Weight (kg)\"\r\n          value={formData.weight}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <button type=\"submit\">Send Package</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SendPackage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}